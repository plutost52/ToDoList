<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.todolist.cardLine.dao.CardLineDao">

    <resultMap id="cardLineList" type="com.example.todolist.cardLine.dto.CardLineDto">
        <id property="lineNo" column="LINE_NO"/>
        <result property="cardNo" column="CARD_NO"/>
        <result property="cardLineChecked" column="CARD_LINE_CHECKED"/>
        <result property="cardLineValue" column="CARD_LINE_VALUE"/>
    </resultMap>

    <insert id="createCardLine">
        INSERT INTO CARD_LINE
        (
            CARD_NO,
            CARD_LINE_CHECKED,
            CARD_LINE_VALUE
        )
        VALUES
            (
                #{cardNo},
                0,
                #{cardLineValue},
            )
    </insert>

    <delete id="deleteCardLine">
        DELETE FROM CARD_LINE
        WHERE LINE_NO = #{lineNo}
    </delete>

    <select id="listCardLine" resultMap="cardLineList">
        SELECT * FROM CARD_LINE
        WHERE CARD_NO in
        <foreach item="cardNo" index="i" collection="cardNoArr"
                 open = "(" separator = "," close=")">
            #{cardNo}
        </foreach>
    </select>

</mapper>
